<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>API Debug tool</title>
    <style>
      html {
        color: #a2aabc;
        font-family: monaco;
        width: 100%;
        height: 100%;
        display: flex;
        /* justify-content: center; */
        align-items: center;
        flex-direction: column;
      }
      body {
        background-color: #171c28;
        color: #a2aabc;
        margin: 0px;
      }

      h1 {
        margin: 0px;
        font-size: 20px;
        color: #ffcc66;
      }

      h2 {
        font-size: 16px;
        margin-top: 10px;
        color: #ef6b73;
      }

      p {
        font-size: 12px;
      }

      a {
        color: #ffae57;
      }

      #buttons {
        clear: left;
      }

      button {
        font-size: 12px;
        background-color: #171c28;
        color: #ffae57;
        margin-top: 10px;
        border-width: 1px;
        border-style: solid;
      }

      input {
        font-size: 12px;
        background-color: #1d2433;
        color: #bae67e;
        width: 100%;
        border-width: 1px;
        border-style: solid;
        border-color: initial;
        padding: 2px;
        padding-left: 4px;
        border-radius: 5px;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
      }

      form {
        width: 500px;
        padding: 20px;
        border-radius: 10px;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
      }

      textarea {
        font-size: 12px;
        background-color: #1d2433;
        color: #bae67e;
        padding-top: 10px;
        padding-left: 10px;
        width: 100%;
        font-family: monaco, monospace;
        font-size: 12px;
        border-radius: 10px;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
      }
    </style>
  </head>

  <body>
    <form name="commandform">
      <h1>SSD API Debugger</h1>
      <a
        href="https://github.com/haolinnie/Self-Service-Database-Server/blob/master/ssd_api/APIDocumentation.md"
        >Documentation</a
      >
      <h2>URL:</h2>
      <input
        name="commandurl"
        type="text"
        size="60"
        value="/ssd_api/get_table"
      />
      <div id="buttons">
        <button type="button" onclick="getHTML('GET')">GET</button>
        <button type="button" onclick="getHTML('PUT')">PUT</button>
        <button type="button" onclick="getHTML('POST')">POST</button>
        <button type="button" onclick="getHTML('DELETE')">DELETE</button>
      </div>
      <h2>Message Body:</h2>
      <textarea name="messagebody" rows="8" cols="100"></textarea>
      <h2>Command Response:</h2>
      <textarea name="response" rows="25" cols="100"></textarea>
    </form>
  </body>
</html>

<script language="JavaScript">
  function getHTML(command) {
    if (window.XMLHttpRequest) {
      var http = new XMLHttpRequest();
      http.open(command, document.commandform.commandurl.value, true);

      http.onreadystatechange = function() {
        if (http.readyState == 4) {
          document.commandform.response.value =
            "Bad JSON: " + http.responseText;
          document.commandform.response.value = JSON.stringify(
            JSON.parse(http.responseText),
            null,
            "\t"
          );
        }
      };
      http.send(document.commandform.messagebody.value);
    }
    return false;
  }
</script>
